
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shape Survivor - Modular</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Game UI -->
<div id="ui">
    <!-- Health Bar -->
    <div id="healthBar" style="width: 200px; height: 15px; background: #333; border: 2px solid red; margin-bottom: 10px;">
        <div id="healthBarFill" style="height: 100%; background: red; width: 100%; transition: width 0.1s;"></div>
    </div>
    
    <!-- XP Bar -->
    <div id="xpBar" style="width: 200px; height: 15px; background: #333; border: 2px solid blue; margin-bottom: 10px;">
        <div id="xpBarFill" style="height: 100%; background: blue; width: 0%; transition: width 0.1s;"></div>
    </div>

    <!-- Holy Shield Status Bar -->
    <div id="holy-shield-bar" style="width: 200px; height: 15px; background: #333; border: 2px solid #ffaa00; margin-bottom: 10px; display: none;">
        <div id="holy-shield-fill" style="height: 100%; background: #ffaa00; width: 100%; transition: width 0.1s;"></div>
    </div>
    <p id="holy-shield-status" style="font-size: 12px; color: #ffaa00; margin: 0; display: none;">üõ°Ô∏è Holy Shield: Ready</p>

    <p>Score: <span id="score">0</span></p>
    <p id="ammo-display" style="display: none; color: white;">Ammo: <span id="ammo-count">0</span>/<span id="ammo-max">0</span></p>
    
    <div style="margin-top: 10px;">
        <label style="font-size: 14px; color: #aaa;">Custom Player Sprite:</label><br>
        <input type="file" id="spriteUpload" accept="image/*" style="color: white;">
    </div>
</div>

<!-- Character Selection Screen -->
<div id="characterSelection" class="screen-overlay">
    <h1 class="screen-title">Choose Your Character</h1>
    
    <!-- Tab Navigation -->
    <div class="tab-navigation">
        <button id="defaultCharactersTab" class="tab-button active" onclick="characterSelectionScreen.showCharacterTab('default')">
            Default Characters
        </button>
        <button id="customCharactersTab" class="tab-button" onclick="characterSelectionScreen.showCharacterTab('custom')">
            Custom Characters  
        </button>
        <button class="tab-button create" onclick="characterSelectionScreen.showCharacterCreation()">
            Create New Character
        </button>
    </div>
    
    <!-- Character Grid Container -->
    <div id="characterGrid" class="character-grid">
        <!-- Characters will be dynamically populated here -->
    </div>
    
    <!-- Info bar at bottom -->
    <div class="character-info-bar" id="characterInfoBar">
        <div class="character-info-left">
            <h3 id="characterName">Select a character to see details</h3>
            <p id="characterDescription">Character description will appear here</p>
            <div class="character-traits" id="characterTraits"></div>
        </div>
        <div class="character-info-right">
            <button class="start-game-button" onclick="characterSelectionScreen.selectCharacter()">
                Start Game
            </button>
        </div>
    </div>
</div>

<!-- Character Creation Screen -->
<div id="characterCreation" class="screen-overlay">
    <!-- Character creation content will be dynamically generated -->
</div>

<!-- Weapon Upgrade Menu -->
<div id="weaponUpgradeMenu" class="screen-overlay" style="z-index: 150;">
    <h1 style="margin-top: 15%;">Weapon Upgrade Available!</h1>
    <h2 id="weaponUpgradeSubtitle">Choose an enhancement for your weapon:</h2>
    
    <div id="upgradeCardsContainer" class="upgrade-cards-container">
        <!-- Cards will be dynamically generated here -->
    </div>
</div>

<!-- Weapon Selection Screen (fallback) -->
<div id="weaponSelection" class="screen-overlay">
    <h1 style="margin-top: 10%;">Choose Your Starting Weapon</h1>
    
    <div class="weapon-grid">
        <!-- Weapon cards will be here if needed -->
    </div>
</div>

<!-- Game Over Screen -->
<div id="gameover">
    <h1>YOU DIED</h1>
    <button onclick="location.reload()">Restart</button>
</div>

<!-- Game Canvas -->
<canvas id="gameCanvas"></canvas>

<!-- Game Script -->
<script type="module" src="./src/main.js"></script>

</body>
</html>